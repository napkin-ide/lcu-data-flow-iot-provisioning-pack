<mat-accordion>
<mat-expansion-panel (opened)="PanelOpenState = true" (closed)="PanelOpenState = false">
    <mat-expansion-panel-header>
      <mat-panel-title>
        <div fxLayout="row" fxLayoutAlign="start center">
          <mat-icon color="accent" class="margin-right-2">swap_horizontal_circle</mat-icon>
          {{ Title }}
        </div>
      </mat-panel-title>
    </mat-expansion-panel-header>
  
  <mat-card>
    <mat-card-header>
        <!-- <mat-card-title>{{ Title }}</mat-card-title> -->
    </mat-card-header>
    <mat-card-content>
        <mat-list *ngFor="let connection of Connections; let i = index; let odd = odd; let even = even">
          <!-- <pre>{{connection | json}}</pre> -->
          <mat-list-item [ngClass]="{ odd: odd, even: even }" style="height: auto;">
            
            <div fxFlex fxLayout="row" class="margin-2">
              <div fxFlex="95" fxLayout="column" class="margin-right-3 word-break-all">
                <span id="connectionKey" name="connectionKey" class="mat-h3">{{connection.Key}}: </span>
                <span id="connectionValue" name="connectionValue" class="mat-small mat-caption">{{connection.Value}}</span>
              </div>
              <div fxLayoutAlign="end start" *ngIf="CopyToClipboard === true">
                <button
                  id="copyToClipboardButton"
                  name="copyToClipboardButton"
                  type="button"
                  mat-button
                  matTooltip="Copy connection string to Clipboard"
                  matTooltipPosition="right"
                  (click)="CopyStringToClipboard(i)">
                  <mat-icon class="rotate-180 clipboard-icon">save_alt</mat-icon>
                </button>
              </div>
            </div>
          </mat-list-item>
        </mat-list>
    </mat-card-content>
  </mat-card>
</mat-expansion-panel>
</mat-accordion>